<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Analysis of Survey WSS Operators Brazil</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/htmlwidgets-1.3/htmlwidgets.js"></script>
<link href="site_libs/vis-4.20.1/vis.css" rel="stylesheet" />
<script src="site_libs/vis-4.20.1/vis.min.js"></script>
<script src="site_libs/visNetwork-binding-2.0.7/visNetwork.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="html/style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>



<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3,h4",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = false;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}

.tocify-subheader {
  display: inline;
}
.tocify-subheader .tocify-item {
  font-size: 0.95em;
}

</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Survey of Brazil WSS Operators</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="sample.html">
    <span class="fa fa-flask"></span>
     
    Sample Phase 1 and 2
  </a>
</li>
<li>
  <a href="descstat.html">
    <span class="fa fa-wrench"></span>
     
    Descriptive Statistics Phase 1
  </a>
</li>
<li>
  <a href="descstat2.html">
    <span class="fa fa-home"></span>
     
    Descriptive Statistics Phase 2
  </a>
</li>
<li>
  <a href="analysis.html">
    <span class="fa fa-bar-chart"></span>
     
    Analysis
  </a>
</li>
<li>
  <a href="info.html">
    <span class="fa fa-pen"></span>
     
    Info
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Analysis of Survey WSS Operators Brazil</h1>
<h4 class="date">Last run: September 18, 2019</h4>

</div>


<div id="n-phase-i-suppliers" class="section level1">
<h1>1/n — PHASE I (Suppliers)</h1>
<blockquote>
<p>Is there a certain hierarchical order observed in the adoption of SWITS as suggested by IADB/WSA?</p>
</blockquote>
<p><em>SWIT like GIS, Hydraulic Modeling, Asset Management should be developed in an initial preparation phase prior to implementing a capital intensive SWIT. Figure below shows a flow diagram of suggested preparation and implementation sequence of SWIT.</em> <span class="citation">(see IADB 2017, 41)</span></p>
<center>
<img src="images/SWIT.png" alt="SWIT.png" />
</center>
<div id="method" class="section level2">
<h2>Method</h2>
<p>This can be explored borrowing from <strong>Association Rule Mining</strong> (a type of data mining analysis), which has applications in marketing, Market Basket Analysis, and many other industries with large datasets in which there can be association between objects of a set.</p>
<blockquote>
<p>GOAL: identify association rules that fulfill a predetermined level of accuracy in the dataset</p>
</blockquote>
<p>One method is the <strong><em>APRIORI</em> algorithm</strong> (in R pckg <code>arules::apriori()</code>) to generate the most relevant set of rules from a given transaction data. It also shows the <em>support</em>, <em>confidence</em> and <em>lift</em> of those rules ( i.e., three measure that can be used to decide the relative strength of the rules)</p>
<div id="key-metrics" class="section level5">
<h5>Key Metrics</h5>
<p><span class="math display">\[Support (item\  or\ itemsets)= \frac{Number\ of\ transactions\ with\ both\ A\ and\ B}{Total\ number\ of\ transactions} = P\left(A \cap B\right)\]</span></p>
<p><span class="math display">\[Confidence = \frac{Number\ of\ transactions\ with\ both\ A\ and\ B}{Total\ number\ of\ transactions\ with\ A} = \frac{P\left(A \cap B\right)}{P\left(A\right)}\]</span></p>
<p><span class="math display">\[Expected Confidence = \frac{Number\ of\ transactions\ with\ B}{Total\ number\ of\ transactions} = P\left(B\right)\]</span></p>
<p><span class="math display">\[Lift = \frac{Support {\left(A \cap B\right)}}{Support(A)*Support (B)} = \frac{P\left(A \cap B\right)}{P\left(A\right)*P\left(B\right)}\]</span></p>
<!-- ##### Interpretation -->
<!-- Given a set of transactions, there can be a rule like $A=>B[Support, Confidence]$, i.e.  -->
<!-- $iphone=>iphoneCase[Support=20\%,confidence=60\%]$ -->
<!-- we can compute these metrics as: -->
<!-- + $Support$ = 20% of all transaction show this itemset (iphone + iphoneCase)  -->
<!-- + $Confidence$ = 60% of customers who purchase an iphone (Antecedent), buy both iphone + iphoneCase (Consequent)  -->
<!-- + $Lift$ ratio expresses thtetet efficiency of the rule in finddingg cconsequences = the factor by which, the co-occurence of A and B exceeds the expected probability of A and B co-occuring, had they been independent. -->
<p>Hence <span class="math inline">\(Lift &gt;1\)</span> implies a positive relationship (higher than randomly selecting the two items combined)</p>
</div>
</div>
<div id="association-rules-found-in-swit-adoption" class="section level2">
<h2>Association rules found in SWIT adoption</h2>
<p>I look at some key variables about adoption of certain SWIT solutions in the Brazil sample (all binary 0/1)</p>
<div id="assumptions" class="section level4">
<h4>Assumptions</h4>
<ul>
<li>I only keep “Has GIS for Pipes”, although I have also 3 more variables about GIS (all give the same answer)</li>
<li>For simplicity in making the binary variables:
<ul>
<li>1 = (YES) includes {Yes, InConstruciton}</li>
<li>0 = (No) includes {No, DK}</li>
</ul></li>
<li>Min supp = 0.01, minlen = 3, maxlen = 5, conf = 0.75 # set very high (Stronger rules)</li>
</ul>
</div>
<div id="results" class="section level4">
<h4>Results</h4>
<p>Based on the observations, the adoption of the SWIT technologies shows some expected results, and association patterns in adoption such as</p>
<ul>
<li>{DMA, PressSyst , AMR} =&gt; {AMI}<br />
</li>
<li>{HidrModel, DMA , AMR} =&gt; {PressSyst}<br />
</li>
<li>{DMA, SCADA, AMR} =&gt; {GIS_Pipe}<br />
</li>
<li>etc.</li>
</ul>
<p>although, when looking at the lift metric it is never higher than 1.7, which indicate weak association rules.</p>
<pre class="r"><code>pacman::p_load(here, arules, arulesViz) 
load(here::here(&quot;output&quot;, &quot;swit_t.Rdata&quot;))


# ----- FREQUENT ITEM-SETS with APRIORI
itemsetsAP &lt;- apriori(swit_t,
  parameter = list(
    #target = &quot;frequent itemsets&quot;,
    supp = 0.01, # itemset min support
    minlen = 3,
    maxlen = 7,
    conf = 0.75 # set very high (Stronger rules) 
  ),
  control = list(verbose = FALSE)
)
 
# interactive Graph-based VISUALIZATION
top20 &lt;- head(itemsetsAP, n=20, by = &quot;lift&quot;)
plot(top20, method = &quot;graph&quot;,  engine = &quot;htmlwidget&quot;)</code></pre>
<div id="htmlwidget-54bb13d620fb9225ee8f" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-54bb13d620fb9225ee8f">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"label":["PressSyst=PressSyst","AMR_d=AMR","DMA=DMA","HidrModel=HidrModel","GIS_Pipe=GIS_Pipe","AMI_d=AMI","SCADA=SCADA","rule 1","rule 2","rule 3","rule 4","rule 5","rule 6","rule 7","rule 8","rule 9","rule 10","rule 11","rule 12","rule 13","rule 14","rule 15","rule 16","rule 17","rule 18","rule 19","rule 20"],"group":["item","item","item","item","item","item","item","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule","rule"],"value":[1,1,1,1,1,1,1,100,67,67,50.5,50.5,67,34,34,34,67,83.5,34,34,1,34,34,34,50.5,17.5,50.5],"color":["#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#CBD2FC","#EE1B1B","#EE8484","#EE8484","#EEB1B1","#EEB1B1","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC","#EEDCDC"],"title":["PressSyst=PressSyst","AMR_d=AMR","DMA=DMA","HidrModel=HidrModel","GIS_Pipe=GIS_Pipe","AMI_d=AMI","SCADA=SCADA","<B>[1]<\/B><BR><B>{PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.359<BR>confidence = 0.875<BR>lift = 1.71<BR>count = 14<BR>order = 3","<B>[2]<\/B><BR><B>{DMA=DMA,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.308<BR>confidence = 0.857<BR>lift = 1.67<BR>count = 12<BR>order = 4","<B>[3]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.308<BR>confidence = 0.857<BR>lift = 1.67<BR>count = 12<BR>order = 4","<B>[4]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.282<BR>confidence = 0.846<BR>lift = 1.65<BR>count = 11<BR>order = 4","<B>[5]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;HidrModel=HidrModel,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.282<BR>confidence = 0.846<BR>lift = 1.65<BR>count = 11<BR>order = 4","<B>[6]<\/B><BR><B>{DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.308<BR>confidence = 1<BR>lift = 1.62<BR>count = 12<BR>order = 4","<B>[7]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 4","<B>[8]<\/B><BR><B>{PressSyst=PressSyst,<BR>&nbsp;&nbsp;SCADA=SCADA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 4","<B>[9]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;SCADA=SCADA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 4","<B>[10]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.308<BR>confidence = 1<BR>lift = 1.62<BR>count = 12<BR>order = 4","<B>[11]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.333<BR>confidence = 1<BR>lift = 1.62<BR>count = 13<BR>order = 4","<B>[12]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.256<BR>confidence = 1<BR>lift = 1.62<BR>count = 10<BR>order = 5","<B>[13]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 5","<B>[14]<\/B><BR><B>{DMA=DMA,<BR>&nbsp;&nbsp;SCADA=SCADA,<BR>&nbsp;&nbsp;AMR_d=AMR,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.205<BR>confidence = 1<BR>lift = 1.62<BR>count = 8<BR>order = 5","<B>[15]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.256<BR>confidence = 1<BR>lift = 1.62<BR>count = 10<BR>order = 5","<B>[16]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 5","<B>[17]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;HidrModel=HidrModel,<BR>&nbsp;&nbsp;PressSyst=PressSyst,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{AMI_d=AMI}<\/B><BR><BR>support = 0.256<BR>confidence = 0.833<BR>lift = 1.62<BR>count = 10<BR>order = 5","<B>[18]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.282<BR>confidence = 1<BR>lift = 1.62<BR>count = 11<BR>order = 5","<B>[19]<\/B><BR><B>{HidrModel=HidrModel,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;SCADA=SCADA,<BR>&nbsp;&nbsp;AMR_d=AMR}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.231<BR>confidence = 1<BR>lift = 1.62<BR>count = 9<BR>order = 5","<B>[20]<\/B><BR><B>{GIS_Pipe=GIS_Pipe,<BR>&nbsp;&nbsp;DMA=DMA,<BR>&nbsp;&nbsp;SCADA=SCADA,<BR>&nbsp;&nbsp;AMI_d=AMI}<\/B><BR>&nbsp;&nbsp; => <B>{PressSyst=PressSyst}<\/B><BR><BR>support = 0.282<BR>confidence = 1<BR>lift = 1.62<BR>count = 11<BR>order = 5"],"shape":["box","box","box","box","box","box","box","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle","circle"],"x":[0.0188413454795882,0.0941522363502925,0.269413178714167,0.38484094281962,0.776924001700137,0.136333312221658,-1,-0.433669649019086,-0.373966292386874,-0.0774352155295241,0.192171303522175,1,-0.036782612735602,0.728796763795629,-0.705163730259118,-0.557661078873498,0.24540735983957,0.496257088486514,0.401784494007071,0.691182397226131,-0.511967820712342,0.54865076027302,0.0786594046739637,0.668478646027923,0.78803004353785,-0.337234716110943,-0.25698876086862],"y":[-0.121149119668625,0.0876435170192795,0.0487688566765256,0.729625818123265,-0.739194787406478,-0.175870737354977,0.131443315430512,-0.83523111283344,0.200175744104165,0.853568356984723,-1,0.0074197060928316,-0.74126455905801,0.718188590493882,-0.321754614292735,0.610942458359024,1,-0.973006410748491,-0.625996455969365,-0.419481148868528,-0.0754002118117102,0.429220627128724,0.57764170022769,-0.0827385072335927,0.1785707148007,0.617665873097856,-0.524244935013832]},"edges":{"from":[1,2,3,1,2,4,1,2,5,1,2,5,4,2,3,2,6,4,3,2,1,7,2,4,7,2,4,3,2,5,3,6,5,3,2,6,5,3,1,2,3,7,2,6,4,3,2,6,4,3,1,2,5,4,1,2,5,4,3,2,4,3,7,2,5,3,7,6,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27],"to":[8,8,9,9,9,10,10,10,11,11,11,12,12,12,13,13,13,14,14,14,15,15,15,16,16,16,17,17,17,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,22,22,22,22,23,23,23,23,24,24,24,24,25,25,25,25,26,26,26,26,27,27,27,27,6,6,6,6,6,1,6,6,6,1,1,1,6,1,1,6,6,1,1,1],"arrows":["to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to","to"]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","scaling":{"label":{"enabled":true}},"physics":false},"manipulation":{"enabled":false},"edges":{"smooth":false},"physics":{"stabilization":false},"interaction":{"hover":true}},"groups":["item","rule"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)"},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"tooltipStay":300,"tooltipStyle":"position: fixed;visibility:hidden;padding: 5px;white-space: nowrap;font-family: verdana;font-size:14px;font-color:#000000;background-color: #f5f4ed;-moz-border-radius: 3px;-webkit-border-radius: 3px;border-radius: 3px;border: 1px solid #808074;box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);","highlight":{"enabled":true,"hoverNearest":true,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="in-phase-i-suppliers" class="section level1">
<h1>i/n — PHASE I (Suppliers)</h1>
<p>If the survey validates the prevailing lack of <strong>efficiency</strong> (high NWR), can we see any correlation with: <!-- how high is high?  --></p>
<ul>
<li>company features (ownership, size, state, urban/rural location, network lenght …)?</li>
<li>human resources (estimated by <code>staff/served pop ratio</code>) and <em>technical capacity</em> (<code>technical staff/served pop ratio</code>)?</li>
<li>systems in place to monitor (metering, leakage, illegality, customer complaints )?</li>
<li>degree of adoption of SWITS / smart technology?</li>
</ul>
<!-- + ? is the age at all relevant? (2 efficiency etc? ) -->
<!-- + How widespread is metering? (if not enough to catch leakages ... ) -->
<!-- + Is the customer mix (more or less residential relevant)? (2 innovation? / reliability) -->
<!-- + Is the "integration" W & S at all relavant (2 innovation? ) -->
<div id="process" class="section level2">
<h2>Process</h2>
<!-- - check outliers that could be misleading my summary / correlation -->
<!-- - check correlation  -->
<!-- YES = (Ownership, size, process to detect cland connection)  -->
<!-- NO (% meter, % network yearly inspected, Q24_VolLossMech_Has, Q39_LeaksDetection_Analyzed)  -->
<!-- ? = # staff , ? = SWITS ADOPTION ? = * (?) Is the year of operation * (?) Is thestack of laws connected with efficiency (Expected inverse relation)??  -->
<!-- - DIMENSION REDUCTION  -->
<!-- DECISION TREE / PCA/ MULTIV ANAL /  or some sort of ways to check which explanatory variable is worth keeping  -->
<!-- -  CLUSTER ANALYSIS  -->
<!-- Hierarchical: Start separate and combine -->
<!-- k-means (limited to the NRW related NUMERIC variables? ) -->
<!-- then interpret what you see in the clusters (do they congregate as STATE, ownership, ??? in what % of assigned to cluster 1 are “public”?)  -->
<!-- - DARE I “EXPLAIN”/MODEL  with multivariable regression what “causes” NRW? —— it seems not linear  -->
<!-- OR just “PREDICT” class (>50 NRW // <50 NRW or whatever is the optimal ….. ) based on which info I have ….. I could use BRA as train and MEX as test ????  -->
<!-- LOGISTIC regress  -->
</div>
</div>
<div id="in-phase-i-suppliers-1" class="section level1">
<h1>i/n — PHASE I (Suppliers)</h1>
<p>As a proxy for <strong>reliability</strong>, the surveys asks about service interruptions in the past 12 months, the % of network affected and for how long (days). What are the main causes of service interruption? <!-- how high is high? (only 3 never had interruptions)  --> <!-- how much interruption is acceptable for maintennace  --> <!-- + What are the mains reasons?  Maintenance // energy --></p>
<ul>
<li>(Main Reason 1 = maintenance) –&gt; Connection with energy staff <em>capacity</em>?<br />
</li>
<li>(Main Reason 2 = energy) –&gt; Connection with energy blackouts…?</li>
</ul>
<p>Can we see any correlation with: + Degree of independence in governance? + Having (effective) CRM systems in place?</p>
<div id="process-1" class="section level2">
<h2>Process</h2>
<!-- - most of them are due to maintenance or energy issue (what does that tell me>?)  -->
<!-- - What do I read on the Desk Research about the Energy issue ? what they say about it ?  -->
<!-- - check outliers that could be misleading my summary / correlation -->
<!-- - check correlation  -->
<!-- YES =   -->
<!-- NO =  -->
<!-- ? = # staff , ? = SWITS ADOPTION ? = * (?) Is the year of operation * (?) Is thestack of laws connected with efficiency (Expected inverse relation)??  -->
<!-- - DIMENSION REDUCTION  -->
<!-- DECISION TREE / PCA/ MULTIV ANAL /  or some sort of ways to check which explanatory variable is worth keeping  -->
<!-- -  CLUSTER ANALYSIS  -->
<!-- Hierarchical: Start separate and combine -->
<!-- k-means (limited to the RELIAB related NUMERIC variables? ) -->
<!-- then interpret what you see in the clusters (do they congregate as STATE, ownership, ??? in what % of assigned to cluster 1 are “public”?)  -->
<!-- - DARE I “EXPLAIN” with multivariable regression what “causes” NRW?  -->
</div>
</div>
<div id="in-phase-i-suppliers-2" class="section level1">
<h1>i/n — PHASE I (Suppliers)</h1>
<p>Certain suppliers involved in alleged <strong>corruption</strong> / changes of ownership occurred around survey + refer to Desk Research…</p>
</div>
<div id="in-phase-i-suppliers-phase-2-households" class="section level1">
<h1>i/n — PHASE I (Suppliers) &amp; PHASE 2 (Households)</h1>
<p>Explore outcome <strong>affordability</strong> &amp; (possibly) related variables to explore:<br />
+ Financial assets + Relevant tariff scheme + Financial efficiency tools + Governance structure</p>
<!-- # i/n 5: PHASE I (Suppliers) & PHASE 2 (Households) & HISTORICAL DATA 

If I had historical and gegographic data 
    + What is the effect on key outcome (efficiency / reliab) of the underlying trends of population ? (tot, urban / rural / density)
     "Pop growth in urban areas has been greater than overal pop growth in most countries between 2000 and 2015"
   +  Are megacities still growing or are the secondary cities appearing?  
                UN DATA (forecast + cities)
                https://population.un.org/wup/Download/
                    Total urban rural by country 1950-2050 // urbanization by country 1950-2050
                POPULATION DENSITY FREE data
                http://sedac.ciesin.columbia.edu/data/collection/gpw-v4/sets/browse
                http://nelson.wisc.edu/sage/data-and-models/schneider-readme.php
     **SAVED STUFF** ./01_rawdata/Hist_GWI_POP/cities_pop_tar.Rdata") with GWI data 2011-2017 + POP data 1950 2035 
     https://mran.microsoft.com/snapshot/2015-11-17/web/packages/tmap/vignettes/tmap-nutshell.html
    
    +  Effect of HUMAN MADE OVERARCHING TRENDS? 
    +  NATURAL OVERARCHING TRENDS 
            + climate change ..
            + water stress // water scarcity -->
<div id="process-2" class="section level2">
<h2>Process</h2>
</div>
</div>
<div id="in-phase-i-suppliers-phase-2-households-1" class="section level1">
<h1>i/n — PHASE I (Suppliers) &amp; PHASE 2 (Households)</h1>
<ol start="4" style="list-style-type: decimal">
<li>(In combination PHASE I &amp; PHASE II<!--  // GWI? // Darcia's Note-->) could explore outcome <strong>affordability</strong> &amp; (possibly) related variables to explore:
<ul>
<li>Financial assets
<ul>
<li>Relevant tariff scheme</li>
</ul></li>
<li>Financial efficiency tools</li>
<li>Governance structure</li>
</ul></li>
</ol>
<div id="process-3" class="section level2">
<h2>Process</h2>
</div>
</div>
<div id="in-phase-i-suppliers-phase-2-households-2" class="section level1">
<h1>i/n — PHASE I (Suppliers) &amp; PHASE 2 (Households)</h1>
<ol start="4" style="list-style-type: decimal">
<li>(In combination PHASE I &amp; PHASE II<!--  // GWI? // Darcia's Note-->) could explore outcome <strong>quality</strong> &amp; (possibly) related variables to explore:
<ul>
<li>…</li>
<li>…</li>
<li>…</li>
</ul></li>
</ol>
<div id="process-4" class="section level2 unnumbered">
<h2>Process</h2>
<div id="refs" class="references">
<div id="ref-iadb_evaluation_2017">
<p>IADB. 2017. “Evaluation of Smart-Water-Infrastructure-Technologies-(SWIT).”</p>
</div>
</div>
</div>
</div>

<p class="footer">
	<span style="color:red">Work in progress, not (yet) ready for dissemination.</span>
<!-- 	Copyright &copy; 2017&ndash;2018 
	<a href="http://www.suparnachaudhry.com/">Suparna Chaudhry</a> and <a href="https://www.andrewheiss.com/">Andrew Heiss</a>. 
	Licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/3.0/igo/legalcode">CC-IGO BY-NC-ND 3.0 IGO Creative Commons IGO 3.0 Attribution-NonCommercial-NoDerivatives</a>. 
	Code static page available on <a href="https://github.com/Lulliter/BrazilWaterSurvey">GitHub</a>. -->
</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
